import { Box, Flex } from '../../..'
import { Select } from '../select'
import { ArgsTable, Story, Canvas, Meta } from '@storybook/addon-docs'
import { countryList, statusList, weightUnits } from './phone-options'
import SelectExampleControlled from './phone-example-controlled.tsx'
import SelectExampleCustomTrigger from './phone-example-custom-trigger.tsx'

<Meta title="Components/Select" component={Select} />

<!--- Component template -->

export const selectTemplate = (args) => <Select {...args} />

<!--- Component documentation -->

# Select

- [Overview](#overview)
- [Variants](#variants)
- [Props](#props)

## Overview

<b>Select</b> is a component that allows users to select a value from a list of predefined
options. This component is used when you need to create custom value selection which
is not possible with <b>native select</b>

<Canvas>
  <Select
    aria-label="select"
    placeholder="Select a country"
    items={countryList}
    labelKey="name"
  />
</Canvas>

## Variants

### Select with many options

<Canvas>
  <Story name="With many options">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        labelKey="name"
        items={countryList}
      />
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        labelKey="name"
        items={countryList}
        defaultValue={14}
      />
    </Flex>
  </Story>
</Canvas>

### Select with few options

<Canvas>
  <Story name="With few options">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        labelKey="name"
        items={statusList}
      />
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        labelKey="name"
        items={statusList}
        defaultValue={1}
      />
    </Flex>
  </Story>
</Canvas>

### Select with empty options

<Canvas>
  <Story name="With empty options">
    <Select aria-label="select" placeholder="Select a country" labelKey="id" />
  </Story>
</Canvas>

### Select with label and description

<Canvas>
  <Story name="With label/description">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        label="Product status"
        description="Select the status of the product"
        labelKey="name"
        items={statusList}
      />
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        label="Product status"
        description="The status is selected"
        labelKey="name"
        items={statusList}
        defaultValue={1}
      />
    </Flex>
  </Story>
</Canvas>

### Disabled

<Canvas>
  <Story name="Disabled">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        label="Product status"
        description="Select is disabled"
        isDisabled
      />
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        label="Product status"
        description="The status is selected and disabled"
        labelKey="name"
        items={statusList}
        defaultValue={1}
        isDisabled
      />
    </Flex>
  </Story>
</Canvas>

### Select with error status

<Canvas>
  <Story name="With error status">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        label="Country"
        labelKey="name"
        errorMessage="Error message"
        status="error"
        items={countryList}
      />
      <Select
        aria-label="Select component"
        placeholder="Select a country"
        label="Country"
        labelKey="name"
        errorMessage="Error message with filled value"
        status="error"
        items={countryList}
        defaultValue={14}
      />
    </Flex>
  </Story>
</Canvas>

### Controlled

<Canvas>
  <Story name="Controlled">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <Select
        aria-label="label"
        label="Country"
        placeholder="Select a country"
        description="Uncontrolled"
        labelKey="name"
        items={countryList}
      />
      <Select
        aria-label="label"
        label="Country"
        placeholder="Select a country"
        description="Only value set, Can not be changed"
        labelKey="name"
        items={countryList}
        value={14}
      />
      <SelectExampleControlled
        label="Country"
        description="Full controlled select"
      />
    </Flex>
  </Story>
</Canvas>

### With loading

<Canvas>
  <Story name="With loading">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <Select
        aria-label="label"
        placeholder="Select a country"
        labelKey="name"
        items={countryList}
        label="With loading"
        isLoading
      />
      <Select
        aria-label="label"
        placeholder="Select a country"
        labelKey="name"
        label="With fallback label"
        fallbackLabel="Azerbaijan"
        value={14}
        items={countryList}
        isLoading
        description="Show selected label while other options loading"
      />
    </Flex>
  </Story>
</Canvas>

### Custom trigger

<Canvas>
  <Story name="Custom trigger">
    <Flex css={{ gap: '$16', width: '100%' }}>
      <SelectExampleCustomTrigger
        aria-label="label"
        placeholder="kg"
        items={weightUnits}
        label="Custom rendered trigger"
      />
    </Flex>
  </Story>
</Canvas>

## Props

<ArgsTable of={Select} />
