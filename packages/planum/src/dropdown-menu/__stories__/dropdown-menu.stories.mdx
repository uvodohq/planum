import { Flex, Box } from 'src'
import Button from '~/ui/button'
import { Menu } from '../dropdown-menu'
import { MenuItem } from '../dropdown-menu-item'
import { ArgsTable, Story, Canvas, Meta } from '@storybook/addon-docs'
import { ListIcon, PenCilSimpleIcon, DotsThreeIcon } from '../icons'
import { CustomButton, RowBox } from './menu-examples.tsx'

<Meta
  title="Components/Menu"
  component={Menu}
  parameters={{
    chromatic: { disableSnapshot: true },
  }}
/>

export const menuTemplate = (args) => <Menu {...args} />

# Menu

- [Overview](#overview)
- [Props](#props)

## Overview

<b>Menu</b> is a component that allows you to create a dropdown menu. It is an accessible
dropdown menu for the common dropdown menu button design pattern. Menu uses roving
tabIndex for focus management. It is used to display a list of actions or options.
You can render a menu item with a submenu by nesting a Menu component inside a MenuItem
component.

<Canvas>
  <Menu trigger={<CustomButton />}>
    <MenuItem label="Apple" />
    <MenuItem label="Microsoft" />
    <MenuItem label="Uvodo" />
    <MenuItem label="Google" />
    <MenuItem label="Zara" />
  </Menu>
</Canvas>

## Menu with aligns

You can align the menu popup by using the `align` prop.

<Canvas>
  <Story name="Aligns">
    <Box css={{ width: '100%' }}>
      <RowBox>
        <Box>
          <Menu
            trigger={<CustomButton>top-start</CustomButton>}
            align="top-start">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu trigger={<CustomButton>top</CustomButton>} align="top">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu trigger={<CustomButton>top-end</CustomButton>} align="top-end">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
      </RowBox>
      <RowBox>
        <Box>
          <Menu
            trigger={<CustomButton>bottom-start</CustomButton>}
            align="bottom-start">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu trigger={<CustomButton>bottom</CustomButton>} align="bottom">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu
            trigger={<CustomButton>bottom-end</CustomButton>}
            align="bottom-end">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
      </RowBox>
      <RowBox>
        <Box>
          <Menu
            trigger={<CustomButton>right-start</CustomButton>}
            align="right-start">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu trigger={<CustomButton>right</CustomButton>} align="right">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu
            trigger={<CustomButton>right-end</CustomButton>}
            align="right-end">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
      </RowBox>
      <RowBox>
        <Box>
          <Menu
            trigger={<CustomButton>left-start</CustomButton>}
            align="left-start">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu trigger={<CustomButton>left</CustomButton>} align="left">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
        <Box>
          <Menu
            trigger={<CustomButton>left-end</CustomButton>}
            align="left-end">
            <MenuItem label="Apple" />
            <MenuItem label="Microsoft" />
            <MenuItem label="Uvodo" />
          </Menu>
        </Box>
      </RowBox>
    </Box>
  </Story>
</Canvas>

### Menu with matched menu item

Menu items can be matched width with the trigger button. This is useful when you want to align the menu items with the trigger button.

<Canvas>
  <Story name="Match popup width">
    <Menu
      trigger={<CustomButton>matching with trigger button</CustomButton>}
      matchWidth={true}>
      <MenuItem label="Apple" />
      <MenuItem label="Microsoft" />
      <MenuItem label="Uvodo" />
      <MenuItem label="Google" />
      <MenuItem label="Zara" />
    </Menu>
    <Menu
      trigger={<Button variant="secondaryDark" icon={<ListIcon />} />}
      matchWidth={false}>
      <MenuItem label="Apple" />
      <MenuItem label="Microsoft" />
      <MenuItem label="Uvodo" />
      <MenuItem label="Google" />
      <MenuItem label="Zara" />
    </Menu>
  </Story>
</Canvas>

### Menu item with left icon

Menu item can have a left icon. You can pass the icon as a child of the MenuItem component.

<Canvas>
  <Story name="Custom menu item icon">
    <Menu trigger={<CustomButton>menu</CustomButton>}>
      <MenuItem icon={<PenCilSimpleIcon />} label={'Apple'} onSelect={alert} />
      <MenuItem
        icon={<PenCilSimpleIcon />}
        label={'Microsoft'}
        onSelect={alert}
      />
      <MenuItem icon={<PenCilSimpleIcon />} label={'Uvodo'} onSelect={alert} />
      <MenuItem icon={<PenCilSimpleIcon />} label={'Google'} onSelect={alert} />
      <MenuItem icon={<PenCilSimpleIcon />} label={'Zara'} onSelect={alert} />
    </Menu>
  </Story>
</Canvas>

### Menu with disabled menu item

Menu item can be disabled. You can pass the `disabled` prop to the MenuItem component.

<Canvas>
  <Story name="Disabled menu item">
    <Menu trigger={<CustomButton>menu</CustomButton>}>
      <MenuItem label="Apple" />
      <MenuItem label="Microsoft" />
      <MenuItem label="Uvodo disabled" disabled />
      <MenuItem label="Google" />
      <MenuItem label="Zara disabled" disabled />
    </Menu>
  </Story>
</Canvas>

### Menu with default opened

Menu can be opened by default.

<Canvas>
  <Story name="Default opened">
    <Menu trigger={<CustomButton />} defaultIsOpen={true}>
      <MenuItem label="Apple" />
      <MenuItem label="Microsoft" />
      <MenuItem label="Uvodo" />
      <MenuItem label="Google" />
      <MenuItem label="Zara" />
    </Menu>
  </Story>
</Canvas>

### Menu with menu item selection

Menu item has a selection event. You can add event handler to the menu item.

<Canvas>
  <Story name="Menu item selection">
    <Menu trigger={<Button variant="secondaryDark" icon={<ListIcon />} />}>
      <MenuItem label="Apple" onSelect={() => alert('Apple Clicked!!!')} />
      <MenuItem label="Show alert" onSelect={() => alert('Clicked!!!')} />
      <MenuItem label="Show alert" onSelect={() => alert('Clicked!!!')} />
      <MenuItem label="Show alert" onSelect={() => alert('Clicked!!!')} />
      <MenuItem label="Show alert" onSelect={() => alert('Clicked!!!')} />
    </Menu>
  </Story>
</Canvas>

## Props

<ArgsTable of={Menu} />
